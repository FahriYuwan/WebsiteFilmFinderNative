<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'dark-bg': '#1F2937',  /* Dark gray-blue */
            'dark-hover': '#334155', /* Slightly lighter gray-blue */
            'dark-text': '#F9FAFB', /* Very light gray */
            'dark-accent': '#EE6C4D', /* Custom orange for accents */
            'dark-border': '#374151', /* Darker gray for borders */
            'dark-card-bg': '#2D3748', /* Darker gray-blue for cards */
            'dark-card-border': '#4A5568', /* Slightly lighter gray for card borders */
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="styles.css">
  <title>Dashboard</title>
</head>
<body class="bg-gray-900 text-dark-text flex">
  <!-- Sidebar -->
  <aside id="sidebar" class="h-screen w-64 bg-dark-bg border-r border-dark-border shadow-sm flex flex-col sticky top-0">
    <!-- Header -->
    <div class="p-4 pb-2 flex justify-between items-center">
      <img src="/images/just-text.png" id="sidebar-logo" class="w-60 overflow-hidden transition-all" alt="Logo" />
      <button id="toggle-button" class="p-1.5 rounded-lg bg-dark-hover hover:bg-dark-border transition duration-300">
        <svg id="toggle-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-dark-text" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <polyline id="toggle-chevron" points="15 6 9 12 15 18"></polyline>
        </svg>
      </button>
    </div>

    <!-- User Info -->
    <div class="flex items-center p-4">
      <img src="https://ui-avatars.com/api/?background=3D5A80&color=F9FAFB&bold=true&name=John+Doe" alt="User Avatar" class="w-10 h-10 rounded-md" />
      <div class="ml-3 sidebar-item-text">
        <h4 class="font-semibold text-dark-text">John Doe</h4>
        <span class="text-xs text-gray-400">johndoe@gmail.com</span>
      </div>
    </div>

    <!-- Menu Items -->
    <ul class="flex-1 px-3">
    <!-- Film Item -->
    <li class="relative flex flex-col py-2 px-3 my-1 font-medium rounded-md cursor-pointer transition-colors text-dark-text sidebar-item group active">
      <div class="flex items-center rounded-md">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z" />
        </svg>     
        <span class="sidebar-item-text group-hover:text-dark-accent ml-2">Film</span>
      </div>
      <!-- Submenu -->
      <ul class="submenu pl-8 mt-1 transition-opacity duration-300 opacity-0 group-hover:opacity-100">
        <li class="py-2 px-3 text-gray-400 transition-colors rounded-md hover:bg-dark-card-bg active">
          <a href="CMSDrama.html" class="w-full h-full block">Validate</a>
        </li>
        <li class="py-2 px-3 text-gray-400 transition-colors rounded-md hover:bg-dark-card-bg">
          <a href="CMSDramaInput.html" class="w-full h-full block">Input New Film</a>
        </li>
      </ul>
      <div class="tooltip absolute left-full rounded-md px-2 py-1 ml-6 bg-dark-hover text-dark-text text-sm -translate-x-3 text-center">
        Film
      </div>
    </li>
    <!-- Countries Item -->
    <li class="relative flex flex-col py-2 px-3 my-1 font-medium rounded-md cursor-pointer transition-colors text-dark-text sidebar-item group">
      <div class="flex items-center">
        <a href="CMSCountries.html" class="flex items-center rounded-md w-full">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418" />
          </svg>        
          <span class="sidebar-item-text group-hover:text-dark-accent ml-2">Countries</span>
        </a>
        </div>
        <div class="tooltip absolute left-full rounded-md px-2 py-1 ml-6 bg-dark-hover text-dark-text text-sm -translate-x-3 text-center">
          Countries
        </div>
      </li>
      <!-- Awards Item -->
      <li class="relative flex flex-col py-2 px-3 my-1 font-medium rounded-md cursor-pointer transition-colors group-hover:text-dark-accent text-dark-text sidebar-item group">
        <div class="flex items-center">
          <a href="CMSAwards.html" class="flex items-center rounded-md w-full">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0" />
          </svg>          
          <span class="sidebar-item-text group-hover:text-dark-accent ml-2">Awards</span>
        </a>
        </div>
        <div class="tooltip absolute left-full rounded-md px-2 py-1 ml-6 bg-dark-hover text-dark-text text-sm -translate-x-3 text-center">
          Awards
        </div>
      </li>
      <!-- Genres Item -->
      <li class="relative flex flex-col py-2 px-3 my-1 font-medium rounded-md cursor-pointer transition-colors text-dark-text sidebar-item group">
        <div class="flex items-center">
          <a href="CMSGenres.html" class="flex items-center rounded-md w-full">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5" />
          </svg>              
          <span class="sidebar-item-text group-hover:text-dark-accent group-hover:text-dark-accent ml-2">Genres</span>
        </a>
        </div>
        <div class="tooltip absolute left-full rounded-md px-2 py-1 ml-6 bg-dark-hover text-dark-text text-sm -translate-x-3 text-center">
          Genres
        </div>
      </li>
    <!-- Actors Item -->
    <li class="relative flex flex-col py-2 px-3 my-1 font-medium rounded-md cursor-pointer transition-colors text-dark-text sidebar-item group">
      <div class="flex items-center">
        <a href="CMSActors.html" class="flex items-center rounded-md w-full">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
        </svg>                     
        <span class="sidebar-item-text group-hover:text-dark-accent ml-2">Actors</span>
      </a>
      </div>
      <div class="tooltip absolute left-full rounded-md px-2 py-1 ml-6 bg-dark-hover text-dark-text text-sm -translate-x-3 text-center">
        Actors
      </div>
    </li>
    <!-- Comments Item -->
    <li class="relative flex flex-col py-2 px-3 my-1 font-medium rounded-md cursor-pointer transition-colors text-dark-text sidebar-item group">
      <div class="flex items-center">
        <a href="CMSComments.html" class="flex items-center rounded-md w-full">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" />
        </svg>                           
        <span class="sidebar-item-text group-hover:text-dark-accent ml-2">Comments</span>
      </a>
      </div>
      <div class="tooltip absolute left-full rounded-md px-2 py-1 ml-6 bg-dark-hover text-dark-text text-sm -translate-x-3 text-center">
        Comments
      </div>
    </li>
    <!-- Users Item -->
    <li class="relative flex flex-col py-2 px-3 my-1 font-medium rounded-md cursor-pointer transition-colors text-dark-text sidebar-item group">
      <div class="flex items-center">
        <a href="CMSUsers.html" class="flex items-center rounded-md w-full">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z" />
        </svg>                                 
        <span class="sidebar-item-text group-hover:text-dark-accent ml-2">Users</span>
      </a>
      </div>
      <div class="tooltip absolute left-full rounded-md px-2 py-1 ml-6 bg-dark-hover text-dark-text text-sm -translate-x-3 text-center">
        Users
      </div>
    </li>
    </ul>

    <!-- Footer/Logout -->
    <div class="border-t border-dark-border flex items-center p-3 mt-auto">
      <a href="Home.html" class="flex items-center text-dark-text hover:text-dark-accent transition duration-300">
        <button id="logout-btn" class="flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H5a3 3 0 01-3-3V5a3 3 0 013-3h5a3 3 0 013 3v1" />
          </svg>
          <span id="logout-text" class="ml-2">Logout</span>
        </button>
      </a>
    </div>
  </aside>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col items-center p-10 bg-gray-800 text-dark-text">
      <!-- Form Section -->
      <div class="bg-dark-card-bg text-dark-text p-8 rounded-lg shadow-md w-full max-w-4xl mb-8">
        <h2 class="text-3xl font-extrabold text-center mb-6 text-custom-blue-light">Film Management</h2>
        <div class="flex space-x-4 mb-6">
          <div>
            <label for="filter-status" class="block text-sm font-medium text-dark-text">Filter by Status</label>
            <select id="filter-status" name="filter-status" class="mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-custom-blue-light focus:border-custom-blue-light sm:text-sm text-black">
              <option value="">All Status</option>
              <option value="Pending">Pending</option>
              <option value="Approved">Approved</option>
              <option value="Unapproved">Unapproved</option>
            </select>
          </div>
          <div>
            <label for="filter-film" class="block text-sm font-medium text-dark-text">Show Film</label>
            <select id="filter-film" name="filter-film" class="mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-custom-blue-light focus:border-custom-blue-light sm:text-sm text-black">
              <option value="10">10</option>
              <option value="20">20</option>
              <option value="50">50</option>
              <option value="100">100</option>
            </select>
          </div>
          <div>
            <label for="search-film" class="block text-sm font-medium text-dark-text">Search Film</label>
            <input
              type="text"
              id="search-film"
              name="search-film"
              class="mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-custom-blue-light focus:border-custom-blue-light sm:text-sm text-black"
              placeholder="Search film"
            />
          </div>
        </div>

        <!-- Films Table -->
        <div class="overflow-x-auto">
          <table class="min-w-full bg-dark-card-bg text-dark-text">
            <thead>
              <tr>
                <th class="py-3 px-4 border-b border-custom-gray text-left text-sm font-bold">Film</th>
                <th class="py-3 px-4 border-b border-custom-gray text-left text-sm font-bold">Actors</th>
                <th class="py-3 px-4 border-b border-custom-gray text-left text-sm font-bold">Genres</th>
                <th class="py-3 px-4 border-b border-custom-gray text-left text-sm font-bold">Synopsis</th>
                <th class="py-3 px-4 border-b border-custom-gray text-left text-sm font-bold">Status</th>
                <th class="py-3 px-4 border-b border-custom-gray text-left text-sm font-bold">Actions</th>
              </tr>
            </thead>
            <tbody id="films-table-body" class="text-sm">
              <!-- Rows will be added here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

  <!-- Popup -->
  <div id="popup" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden">
    <div class="bg-gray-900 p-6 rounded-lg shadow-lg w-full max-w-4xl">
      <div class="flex justify-between items-start mb-4">
        <h2 class="text-3xl font-extrabold text-custom-blue-dark">Film Details</h2>
        <button class="text-gray-400 hover:text-gray-200 focus:outline-none" onclick="exitPopup()">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="flex mb-6">
        <div class="w-2/3 pr-4">
          <h3 class="text-xl font-semibold mb-2 text-custom-blue-dark">Film Name</h3>
          <p id="popup-film-name" class="text-lg text-gray-300 mb-4"></p>
          <h3 class="text-xl font-semibold mb-2 text-custom-blue-dark">Description</h3>
          <p class="text-lg text-gray-300 mb-4">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam auctor, nunc id lacinia tincidunt, nunc nunc ultricies nunc, ac lacinia nunc nunc id nunc. Sed euismod, nunc id lacinia tincidunt, nunc nunc ultricies nunc, ac lacinia nunc nunc id nunc.</p>
          <h3 class="text-xl font-semibold mb-2 text-custom-blue-dark">Actors</h3>
          <div class="flex space-x-4">
            <img src="actor1.jpg" alt="Actor 1" class="w-24 h-24 rounded-full border-2 border-gray-700">
            <img src="actor2.jpg" alt="Actor 2" class="w-24 h-24 rounded-full border-2 border-gray-700">
          </div>
        </div>
        <div class="w-1/3">
          <div class="space-y-2 w-full">
            <label for="banner" class="block text-sm font-medium">Banner Image</label>
            <input type="file" id="banner" class="w-full p-3 rounded-md bg-gray-700 border border-gray-600 focus:ring focus:ring-blue-500 text-white" accept="image/*" onchange="previewImage(event)">
            <img id="banner-preview" class="mt-4 w-full rounded-md" src="#" alt="Banner Preview" style="display: none;">
          </div>
          <h3 class="text-xl font-semibold mb-2 text-custom-blue-dark mt-4">Trailer</h3>
          <video src="trailer.mp4" controls class="w-full rounded-lg border-2 border-gray-700"></video>
        </div>
        </div>
        <div class="flex justify-end space-x-4">
          <button class="bg-green-500 text-dark-text py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2" onclick="approveFilm()">Approved</button>
          <button class="bg-red-500 text-dark-text py-2 px-4 rounded-md hover:bg-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2" onclick="unApproveFilm()">Unapproved</button>
        </div>
    </div>
  </div>

  <script>
    const sidebar = document.getElementById('sidebar');
    const toggleButton = document.getElementById('toggle-button');
    const toggleIcon = document.getElementById('toggle-icon');
    const logoutText = document.getElementById('logout-text');
    const submenu = document.querySelectorAll('.submenu');
    let currentFilmId = null;
    const films = [
      { id: 1, film: 'Film 1', actors: 'Actor 1, Actor 2', genres: 'Genre 1, Genre 2', synopsis: 'This is a synopsis of Film 1.', status: 'Pending' },
      { id: 2, film: 'Film 2', actors: 'Actor 3, Actor 4', genres: 'Genre 3, Genre 4', synopsis: 'This is a synopsis of Film 2.', status: 'Pending' },
      { id : 3, film: 'Film 3', actors: 'Actor 5, Actor 6', genres: 'Genre 5, Genre 6', synopsis: 'This is a synopsis of Film 3.', status: 'Pending' },
      { id : 4, film: 'Film 4', actors: 'Actor 7, Actor 8', genres: 'Genre 7, Genre 8', synopsis: 'This is a synopsis of Film 4.', status: 'Pending' },
      { id : 5, film: 'Film 5', actors: 'Actor 9, Actor 10', genres: 'Genre 9, Genre 10', synopsis: 'This is a synopsis of Film 5.', status: 'Pending' },
      { id : 6, film: 'Film 6', actors: 'Actor 11, Actor 12', genres: 'Genre 11, Genre 12', synopsis: 'This is a synopsis of Film 6.', status: 'Pending' },
      { id : 7, film: 'Film 7', actors: 'Actor 13, Actor 14', genres: 'Genre 13, Genre 14', synopsis: 'This is a synopsis of Film 7.', status: 'Pending' },
      { id : 8, film: 'Film 8', actors: 'Actor 15, Actor 16', genres: 'Genre 15, Genre 16', synopsis: 'This is a synopsis of Film 8.', status: 'Pending' },
      { id : 9, film: 'Film 9', actors: 'Actor 17, Actor 18', genres: 'Genre 17, Genre 18', synopsis: 'This is a synopsis of Film 9.', status: 'Pending' },
      { id : 10, film: 'Film 10', actors: 'Actor 19, Actor 20', genres: 'Genre 19, Genre 20', synopsis: 'This is a synopsis of Film 10.', status: 'Pending' },
      { id : 11, film: 'Film 11', actors: 'Actor 21, Actor 22', genres: 'Genre 21, Genre 22', synopsis: 'This is a synopsis of Film 11.', status: 'Pending' },
      { id : 12, film: 'Film 12', actors: 'Actor 23, Actor 24', genres: 'Genre 23, Genre 24', synopsis: 'This is a synopsis of Film 12.', status: 'Pending' },
      { id : 13, film: 'Film 13', actors: 'Actor 25, Actor 26', genres: 'Genre 25, Genre 26', synopsis: 'This is a synopsis of Film 13.', status: 'Pending' },
      { id : 14, film: 'Film 14', actors: 'Actor 27, Actor 28', genres: 'Genre 27, Genre 28', synopsis: 'This is a synopsis of Film 14.', status: 'Pending' },
      { id : 15, film: 'Film 15', actors: 'Actor 29, Actor 30', genres: 'Genre 29, Genre 30', synopsis: 'This is a synopsis of Film 15.', status: 'Pending' },
      { id : 16, film: 'Film 16', actors: 'Actor 31, Actor 32', genres: 'Genre 31, Genre 32', synopsis: 'This is a synopsis of Film 16.', status: 'Pending' },
      { id : 17, film: 'Film 17', actors: 'Actor 33, Actor 34', genres: 'Genre 33, Genre 34', synopsis: 'This is a synopsis of Film 17.', status: 'Pending' },
      { id : 18, film: 'Film 18', actors: 'Actor 35, Actor 36', genres: 'Genre 35, Genre 36', synopsis: 'This is a synopsis of Film 18.', status: 'Pending' },
      { id : 19, film: 'Film 19', actors: 'Actor 37, Actor 38', genres: 'Genre 37, Genre 38', synopsis: 'This is a synopsis of Film 19.', status: 'Pending' },
      { id : 20, film: 'Film 20', actors: 'Actor 39, Actor 40', genres: 'Genre 39, Genre 40', synopsis: 'This is a synopsis of Film 20.', status: 'Pending' }
    ];
    // ---------------------CMS Drama logic-------------------------------------
    //Logic to save film
    function saveFilm(button) {
      const row = button.parentElement.parentElement.parentElement;
      const filmId = row.getAttribute('data-film-id');
      const film = row.children[0].textContent;
      const actors = row.children[1].textContent;
      const genres = row.children[2].textContent;
      const synopsis = row.children[3].textContent;
      const status = row.children[4].textContent;
      alert(`Film saved: ${film}, Actors: ${actors}, Genres: ${genres}, Synopsis: ${synopsis}, Status: ${status}`);
    }
    
    function renderFilms(films) {
      const tableBody = document.getElementById('films-table-body');
      tableBody.innerHTML = '';
      films.forEach(film => {
        const row = document.createElement('tr');
        row.setAttribute('data-film-id', film.id);
        row.innerHTML = `
          <td class="py-2 px-4 border-b border-gray-300 text-sm font-medium" contenteditable="true">${film.film}</td>
          <td class="py-2 px-4 border-b border-gray-300 text-sm" contenteditable="true">${film.actors}</td>
          <td class="py-2 px-4 border-b border-gray-300 text-sm" contenteditable="true">${film.genres}</td>
          <td class="py-2 px-4 border-b border-gray-300 text-sm" contenteditable="true">${film.synopsis}</td>
          <td class="py-2 px-4 border-b border-gray-300 text-center">
            <button class="status-button ${film.status.toLowerCase()} py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2" onclick="showPopup('${film.film}', ${film.id})">${film.status}</button>
          </td>
          <td class="py-2 px-4 border-b border-gray-300 text-center">
            <div class="flex justify-center space-x-2">
              <button class="bg-custom-blue-light text-dark-text py-1 px-3 rounded-md hover:bg-dark-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-blue-dark" onclick="saveFilm(this)">Save</button>
              <button class="bg-red-400 text-white py-1 px-3 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2" onclick="deleteFilm(this)">Delete</button>
            </div>
          </td>
        `;
        tableBody.appendChild(row);
      });
    }

    function applyFilters() {
    const status = document.getElementById('filter-status').value;
    const limit = parseInt(document.getElementById('filter-film').value, 10);
    const searchTerm = document.getElementById('search-film').value.toLowerCase();

    let filteredFilms = films;

    if (status) {
      filteredFilms = filteredFilms.filter(film => film.status === status);
    }

    if (searchTerm) {
      filteredFilms = filteredFilms.filter(film => film.film.toLowerCase().includes(searchTerm) || film.actors.toLowerCase().includes(searchTerm) || film.genres.toLowerCase().includes(searchTerm) || film.synopsis.toLowerCase().includes(searchTerm));
    }

    renderFilms(filteredFilms.slice(0, limit));
  }

  document.getElementById('filter-status').addEventListener('change', applyFilters);
  document.getElementById('filter-film').addEventListener('change', applyFilters);
  document.getElementById('search-film').addEventListener('input', applyFilters);

  // Initial render
  renderFilms(films);


    // ---------------------Popup logic-------------------------------------
    //preview image
    function previewImage(event) {
      const reader = new FileReader();
      reader.onload = function() {
        const output = document.getElementById('banner-preview');
        output.src = reader.result;
        output.style.display = 'block';
    };
    reader.readAsDataURL(event.target.files[0]);
    }
    function showPopup(filmName, filmId) {
      const popup = document.getElementById('popup');
      const popupfilmName = document.getElementById('popup-film-name');
      popupfilmName.textContent = filmName;
      currentFilmId = filmId;
      popup.classList.remove('hidden');
    }

    function hidePopup() {
      const popup = document.getElementById('popup');
      popup.classList.add('hidden');
    }

    // Logic to approve film
    function approveFilm() {
    alert('Film approved!');
    hidePopup();
    // Change status to Approved
    const statusButton = document.querySelector(`#films-table-body tr[data-film-id="${currentFilmId}"] td:nth-child(5) button`);
    statusButton.textContent = 'Approved';
    statusButton.classList.remove('pending', 'unapproved');
    statusButton.classList.add('approved');
    
    // Update film status in data
    const film = films.find(film => film.id === currentFilmId);
    if (film) {
      film.status = 'Approved';
    }

      // Reapply filters to update the table
      applyFilters();
    }

    // Logic to unapprove film
    function unApproveFilm() {
    alert('Film Unapproved!');
    hidePopup();
    // Change status to Unapproved
    const statusButton = document.querySelector(`#films-table-body tr[data-film-id="${currentFilmId}"] td:nth-child(5) button`);
    statusButton.textContent = 'Unapproved';
    statusButton.classList.remove('pending', 'approved');
    statusButton.classList.add('unapproved');
    
    // Update film status in data
    const film = films.find(film => film.id === currentFilmId);
    if (film) {
      film.status = 'Unapproved';
    }

    // Reapply filters to update the table
    applyFilters();
  }

    function deleteFilm(button) {
      const row = button.parentElement.parentElement.parentElement;
      row.remove();
    }

    function exitPopup() {
      hidePopup();
    }
    // -------------------------------------------Sidebar logic-------------------------------------
    // Minimize sidebar logic  
    toggleButton.addEventListener('click', () => {
    sidebar.classList.toggle('expanded');
    sidebar.classList.toggle('collapsed');

    if (sidebar.classList.contains('collapsed')) {
      toggleIcon.innerHTML = '<polyline points="9 6 15 12 9 18"></polyline>';
      logoutText.style.display = 'none';

      // Tutup semua submenu jika sidebar diminimalkan
      submenu.forEach(menu => menu.classList.remove('expanded'));
    } else {
      toggleIcon.innerHTML = '<polyline points="15 6 9 12 15 18"></polyline>';
      logoutText.style.display = 'block';
    }
    });
    // Submenu toggle logic
    const sidebarItems = document.querySelectorAll('.sidebar-item');
    
    // Fungsi untuk membuka atau menutup submenu hanya jika sidebar tidak diminimalkan
    sidebarItems.forEach(item => {
      item.addEventListener('mouseenter', () => {
        if (!sidebar.classList.contains('collapsed')) {
          const submenu = item.querySelector('.submenu');
          submenu.classList.add('expanded');
        }
      });

      item.addEventListener('mouseleave', () => {
        if (!sidebar.classList.contains('collapsed')) {
          const submenu = item.querySelector('.submenu');
          submenu.classList.remove('expanded');
        }
      });
    });
  </script>
</body>
</html>